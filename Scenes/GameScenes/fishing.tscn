[gd_scene load_steps=10 format=3 uid="uid://f7vxvrtmrda"]

[ext_resource type="Script" path="res://Scripts/Game/SceneInitializers/fishing_scene.gd" id="1_1d555"]
[ext_resource type="Script" path="res://Scripts/Camera/camera_follow.gd" id="2_3hq0m"]
[ext_resource type="Script" path="res://_debug/Script/debug_count.gd" id="3_qb7eq"]
[ext_resource type="Script" path="res://Scripts/Fish/Fishing/fishing_water.gd" id="4_psroe"]
[ext_resource type="PackedScene" uid="uid://b0r7scjvxmjtf" path="res://Objects/Game/fisherman_player.tscn" id="5_l1pbv"]
[ext_resource type="Script" path="res://Scripts/Fish/Fishing/fish_spawner.gd" id="6_lkbch"]
[ext_resource type="PackedScene" uid="uid://cdwo0ubn0picr" path="res://Objects/Fish/Fish.tscn" id="7_656qj"]

[sub_resource type="SegmentShape2D" id="SegmentShape2D_b7eue"]
a = Vector2(-150, 0)
b = Vector2(150, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ucwld"]
size = Vector2(1280, 1591)

[node name="Fishing" type="Node2D" node_paths=PackedStringArray("fisherman_spawn", "fisherman_spawn_node")]
script = ExtResource("1_1d555")
fisherman_spawn = NodePath("FishermanSpawn")
fisherman_object = ExtResource("5_l1pbv")
fisherman_spawn_node = NodePath("Players")

[node name="CameraBox" type="Node2D" parent="."]

[node name="Camera2D" type="Camera2D" parent="CameraBox" node_paths=PackedStringArray("limit_top_left", "limit_bottom_right")]
position = Vector2(640, 360)
limit_smoothed = true
position_smoothing_enabled = true
script = ExtResource("2_3hq0m")
limit_top_left = NodePath("../CornerTL")
limit_bottom_right = NodePath("../CornerBR")

[node name="CornerTL" type="Marker2D" parent="CameraBox"]

[node name="CornerBR" type="Marker2D" parent="CameraBox"]
position = Vector2(1281, 1757)

[node name="Boat" type="StaticBody2D" parent="."]
position = Vector2(539, 164)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boat"]
shape = SubResource("SegmentShape2D_b7eue")

[node name="SubViewportContainer" type="SubViewportContainer" parent="Boat"]
offset_left = -66.0
offset_top = 2.0
offset_right = 81.0
offset_bottom = 29.0

[node name="SubViewport" type="SubViewport" parent="Boat/SubViewportContainer"]
disable_3d = true
handle_input_locally = false
size = Vector2i(147, 27)
render_target_update_mode = 4

[node name="Control" type="Control" parent="Boat/SubViewportContainer/SubViewport"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Fish" type="Label" parent="Boat/SubViewportContainer/SubViewport/Control"]
layout_mode = 0
offset_right = 112.0
offset_bottom = 23.0
text = "Fishes Caught:"

[node name="Count" type="Label" parent="Boat/SubViewportContainer/SubViewport/Control"]
layout_mode = 0
offset_left = 115.0
offset_right = 134.0
offset_bottom = 23.0
text = "00"
script = ExtResource("3_qb7eq")

[node name="BoatInfo" type="Node" parent="Boat"]

[node name="Water" type="Area2D" parent="."]
position = Vector2(360, 240)
collision_layer = 8
collision_mask = 2
gravity_space_override = 3
gravity = 400.0
script = ExtResource("4_psroe")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Water"]
position = Vector2(281, 721.5)
shape = SubResource("RectangleShape2D_ucwld")

[node name="FishermanSpawn" type="Marker2D" parent="."]
position = Vector2(540, 130)

[node name="FishSpawn" type="Node2D" parent="." node_paths=PackedStringArray("parent_node", "top", "bottom")]
script = ExtResource("6_lkbch")
fish = ExtResource("7_656qj")
spawn_rate = Vector2(1, 3.5)
parent_node = NodePath("../Fishes")
top = NodePath("Top")
bottom = NodePath("Bottom")

[node name="Top" type="Marker2D" parent="FishSpawn"]
position = Vector2(-10, 224)

[node name="Bottom" type="Marker2D" parent="FishSpawn"]
position = Vector2(-10, 666)

[node name="FishSpawn-Right" type="Node2D" parent="." node_paths=PackedStringArray("parent_node", "top", "bottom")]
script = ExtResource("6_lkbch")
fish = ExtResource("7_656qj")
filp_fish = true
spawn_rate = Vector2(1, 3.5)
parent_node = NodePath("../Fishes")
top = NodePath("Top")
bottom = NodePath("Bottom")

[node name="Top" type="Marker2D" parent="FishSpawn-Right"]
position = Vector2(1290, 224)

[node name="Bottom" type="Marker2D" parent="FishSpawn-Right"]
position = Vector2(1290, 666)

[node name="Players" type="Node2D" parent="."]

[node name="Fishes" type="Node2D" parent="."]

[node name="FishSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://Objects/Fish/Fish.tscn")
spawn_path = NodePath("../Fishes")

[node name="PlayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://Objects/Game/fisherman_player.tscn")
spawn_path = NodePath("../Players")
